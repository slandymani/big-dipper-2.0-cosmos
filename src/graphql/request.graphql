query Requests($limit: Int, $offset: Int, $order_by: [request_order_by!]) {
  request(limit: $limit, offset: $offset, order_by: $order_by) {
    id
    oracle_script_id
    sender
    ask_count
    min_count
    calldata
    client_id
    prepare_gas
    execute_gas
    fee_limit
    reports_count
    report_timestamp
    timestamp
  }
}

query OracleScriptRequests($script_id: Int, $limit: Int, $offset: Int) {
  oracle_script(where: {id: {_eq: $script_id}}) {
    requests(where: {oracle_script_id: {_eq: $script_id}}, limit: $limit, offset: $offset) {
      id
      height
      oracle_script_id
      sender
      ask_count
      min_count
      calldata
      client_id
      prepare_gas
      execute_gas
      fee_limit
      reports_count
      report_timestamp
      timestamp
    }
  }
}

query RequestsPerDate($limit: Int, $offset: Int) {
  requests_per_date(limit: $limit, offset: $offset, order_by: {date: desc}) {
    date
    requests_number
  }
}